<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>











<head>
<title>Planet Cloud Foundry</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="Planet/2.0 +http://www.planetplanet.org">
<link rel="stylesheet" href="planet.css" type="text/css">
<link rel="alternate" href="http://cforgvince.api.io/atom.xml" title="" type="application/atom+xml">
</head>

<body>
<h1>Planet Cloud Foundry</h1>

<div class="daygroup">
<h2>December 11, 2013</h2>

<div class="channelgroup">







<h3><a href="http://blog.cloudfoundry.com" title="Cloud Foundry Blog">Cloud Foundry Blog</a></h3>


<div class="entrygroup" id="http://blog.cloudfoundry.com/?p=6072" lang="en-US">
<h4><a href="http://feedproxy.google.com/~r/CloudFoundry-Blog/~3/cGSBs8HNxR0/">SAP HANA Service Broker Contributed to the Cloud Foundry Incubator</a></h4>
<div class="entry">
<div class="content">
<p>The quintessential story for platform as a service is that the developer needn’t perform a bunch of administrative functions just to start working on their code. Have a look at the <a href="https://github.com/vFabric/springtrader/wiki/Getting-Started-Guide">installation instructions for the developer-targeted Spring Trader</a> reference implementation for a pre-PaaS deployment experience. In a PaaS, this lengthy guide is replaced with one command each to provision a database and a messaging service, and then another command that deploys each part of the application with bindings to these services.</p>
<p>Service brokers are what make this provisioning and binding happen with ease, and today we are delighted to report that Cloud Foundry partner, SAP, has <a href="https://github.com/cloudfoundry-community/cf-hanadb-broker">open sourced a new Cloud Foundry service broker</a> for their <a href="http://www.sap.com/pc/tech/in-memory-computing-hana/software/platform/database.html">SAP HANA database</a>. To round out a very compelling three-way partnership, Swisscom have deployed SAP HANA DB, Cloud Foundry and the new service broker to their infrastructure; Cloud Foundry brings the elastic runtime, SAP brings the service and Swisscom is the service provider – wholesome goodness! And finally, to exercise the service broker, Pivotal worked with another partner, Accenture, to migrate the <a href="https://github.com/vFabric/springtrader">Spring Trader</a> (dare I say “legacy”?) application to this environment.</p>
<p>SAP and Swisscom developed the broker, implementing the Cloud Foundry <a href="http://docs.cloudfoundry.com/docs/running/architecture/services/writing-service.html">V2 Service Broker API</a>, and they have described this in a <a href="http://scn.sap.com/community/developer-center/hana/blog/2013/12/11/sap-makes-hana-service-broker-for-cloud-foundry-open-source">blog post of their own</a>. A service broker simply implements a set of HTTP endpoints and once the endpoints are live, a <code>cf add-service-broker</code> command will make the service offering available, as shown with the <code>cf services --marketplace</code> command. A service instance is created with the <code>cf create-service</code> command, and finally when the application is deployed it is bound to the service instance. This application deployment flow, with the SAP HANA DB service broker providing the database instance is shown in this video.</p>
<p></p>
<p>The service broker API is an important part of the Cloud Foundry landscape as it provides a simple and elegant means for drawing into the PaaS an array of capabilities, from a multitude of vendors. There is no single, one-stop shop for enterprise IT needs, so this integration strategy is absolutely essential. In addition to the set of vendors providing services on <a href="http://run.pivotal.io">run.pivotal.io</a>, Cloud Foundry has an impressively expanding set of partners providing service integrations for the enterprise. And, as an added bonus, this particular exercise demonstrates there is more to services integration than providing the broker alone.</p>
<p>Once a service is bound, the application has access to the service credentials via an environment variable, VCAP_SERVICES. The application could include code that reads and parses that variable and then uses those credentials to connect to the service; for example, using the host name, port, username and password for a database such as SAP HANA DB. While this approach works, it introduces a tight coupling between the application and its deployment environment, deep down in the code itself (making this architect really uncomfortable). A better approach would be if the application code could focus on the core application needs, and any such connectivity could be configured at deployment time.</p>
<p>If you are a spring developer, the <a href="https://github.com/spring-projects/spring-cloud">spring-cloud</a> project does just this. Spring-cloud allows you add a few entries into your application configuration and it will evaluate the runtime environment and respond appropriately. If the application is deployed to Cloud Foundry, for example, it will find and parse the VCAP_SERVICES environment variable and instantiate the right beans with the provided credentials. In the case of relational databases, this involves utilizing the right JDBC driver and Spring-cloud supports an extension mechanism for this. In addition to the broker implementation, SAP developed exactly this extension which we included alongside the application during deployment. This allowed us to configure the application for SAP HANA DB with the following entries:</p>
<pre><code>&lt;cloud:data-source id="dataSource" service-name="hdb1"&gt;
 &lt;cloud:connection properties="sessionVariables=sql_mode='ANSI';characterEncoding=UTF-8;defaultTransactionIsolation=2"/&gt;
 &lt;cloud:pool pool-size="20" max-wait-time="200"/&gt;
&lt;/cloud:data-source&gt;

&lt;cloud:rabbit-connection-factory /&gt;
</code></pre>
<p>SAP have <a href="https://github.com/cloudfoundry-community/cf-hanadb-broker">open sourced the broker implementation</a> and announced its availability both with their blog post, as well as in a <a href="http://online.wsj.com/article/PR-CO-20131211-900077.html?dsk=y">press release</a> timed to coincide with their Bangalore TechEd event. Swisscom is the first service provider with a SAP HANA service offering on Cloud Foundry and is <a href="http://devcloud.swisscom.com/">accepting applications for their beta program</a>. We are delighted to be a part of this partnership that offers the next level of service to enterprise PaaS customers.</p>
<div class="trackable_sharing"><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F" title="Facebook" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//facebook.png" alt="Facebook" width="36" height="36" /></a> <a href="http://twitter.com/share?url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F&text=SAP+HANA+Service+Broker+Contributed+to+the+Cloud+Foundry+Incubator" title="Twitter" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//twitter.png" alt="Twitter" width="36" height="36" /></a> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F&title=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F&ro=false&summary=&source=" title="Linkedin" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//linkedin.png" alt="Linkedin" width="36" height="36" /></a> <a href="http://digg.com/submit?partner=addthis&url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F&title=SAP+HANA+Service+Broker+Contributed+to+the+Cloud+Foundry+Incubator&bodytext=" title="Digg" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//digg.png" alt="Digg" width="36" height="36" /></a> <a href="http://www.delicious.com/save?v=5&noui&jump=close&url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F&title=SAP+HANA+Service+Broker+Contributed+to+the+Cloud+Foundry+Incubator" title="Delicious" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//delicious.png" alt="Delicious" width="36" height="36" /></a> <a href="http://www.reddit.com/login?dest=%2Fsubmit%3Furl=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F&title=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F" title="Reddit" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//reddit.png" alt="Reddit" width="36" height="36" /></a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F&title=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F" title="Stumbleupon" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//stumbleupon.png" alt="Stumbleupon" width="36" height="36" /></a> <a href="mailto:?subject=Check out http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F12%2F11%2Fsap-hana-service-broker-contributed-to-the-cloud-foundry-incubator%2F" title="Email"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//email.png" alt="Email" width="36" height="36" /></a> </div><img src="http://feeds.feedburner.com/~r/CloudFoundry-Blog/~4/cGSBs8HNxR0" height="1" width="1" /></div>







<p class="date">
<a href="http://feedproxy.google.com/~r/CloudFoundry-Blog/~3/cGSBs8HNxR0/">by Cornelia Davis at December 11, 2013 07:56 AM</a>
</p>
</div>
</div>


</div>

</div>
<div class="daygroup">
<h2>November 25, 2013</h2>

<div class="channelgroup">







<h3><a href="http://blog.cloudfoundry.com" title="Cloud Foundry Blog">Cloud Foundry Blog</a></h3>


<div class="entrygroup" id="http://blog.cloudfoundry.com/?p=5907" lang="en-US">
<h4><a href="http://feedproxy.google.com/~r/CloudFoundry-Blog/~3/s9fggTJT9Gw/">Sending Email from Cloud Foundry Java Applications with SendGrid</a></h4>
<div class="entry">
<div class="content">
<p><em>The following is a guest blog post by Scott Motte (<a href="http://www.twitter.com/scottmotte">@scottmotte</a>), Developer Evangelist at <a href="http://sendgrid.com">SendGrid</a>, a cloud based SMTP email delivery and management service.</em></p>
<p>A few weeks ago SendGrid released their <a href="https://github.com/sendgrid/sendgrid-java">sendgrid-java helper library</a>. The library goes a step further in sticking with Cloud Foundry&#8217;s &#8220;it just works&#8221; experience and making your life as a developer easier. Previously, you had to write a large amount of boilerplate code using <a href="https://javamail.java.net/nonav/docs/api/">JavaMail</a>. Now, you can send email with just a few lines of code.</p>
<h1>How Does It Work?</h1>
<p>At your Cloud Foundry Command Line Interface, add <a href="http://sendgrid.com">SendGrid</a> as a service and bind it your app.</p>
<pre>cf create-service sendgrid  
cf bind-service

</pre>
<p>Next, Install the <a href="https://github.com/scottmotte/vcapenv">vcapenv library</a>, and install the <a href="https://github.com/sendgrid/sendgrid-java#installation">sendgrid-java library</a>.</p>
<p>Then add the following code to your project:</p>
<pre><code>import com.github.scottmotte.Vcapenv;
import com.github.sendgrid.SendGrid;

Vcapenv vcapenv = new Vcapenv();
String sendgrid_username = vcapenv.SENDGRID_USERNAME();
String sendgrid_password = vcapenv.SENDGRID_PASSWORD();

SendGrid sendgrid = new SendGrid(sendgrid_username, sendgrid_password);

sendgrid.addTo("example@example.com");
sendgrid.setFrom("other@example.com");
sendgrid.setSubject("Hello World");
sendgrid.setText("My first email through SendGrid");

sendgrid.send();
</code></pre>
<p>That&#8217;s it. Now you can start sending emails from your Java application! Cloud Foundry developers can send 25,000 emails every month for free. Check out the <a href="http://docs.cloudfoundry.com/docs/dotcom/marketplace/services/sendgrid.html">Cloud Foundry documentation</a> page to get started.</p>
<h1>Video Demo</h1>
<p>For a working demo of Cloud Foundry + SendGrid, just follow the easy steps in this example <a href="http://vimeo.com/79817754">video</a>. It uses the sample <a href="https://github.com/scottmotte/spring-attack">spring-attack app</a>.</p>
<p></p>
<div class="trackable_sharing"><a href="http://www.facebook.com/sharer.php?u=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F" title="Facebook" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//facebook.png" alt="Facebook" width="36" height="36" /></a> <a href="http://twitter.com/share?url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F&text=Sending+Email+from+Cloud+Foundry+Java+Applications+with+SendGrid" title="Twitter" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//twitter.png" alt="Twitter" width="36" height="36" /></a> <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F&title=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F&ro=false&summary=&source=" title="Linkedin" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//linkedin.png" alt="Linkedin" width="36" height="36" /></a> <a href="http://digg.com/submit?partner=addthis&url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F&title=Sending+Email+from+Cloud+Foundry+Java+Applications+with+SendGrid&bodytext=" title="Digg" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//digg.png" alt="Digg" width="36" height="36" /></a> <a href="http://www.delicious.com/save?v=5&noui&jump=close&url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F&title=Sending+Email+from+Cloud+Foundry+Java+Applications+with+SendGrid" title="Delicious" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//delicious.png" alt="Delicious" width="36" height="36" /></a> <a href="http://www.reddit.com/login?dest=%2Fsubmit%3Furl=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F&title=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F" title="Reddit" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//reddit.png" alt="Reddit" width="36" height="36" /></a> <a href="http://www.stumbleupon.com/submit?url=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F&title=http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F" title="Stumbleupon" target="_blank"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//stumbleupon.png" alt="Stumbleupon" width="36" height="36" /></a> <a href="mailto:?subject=Check out http%3A%2F%2Fblog.cloudfoundry.com%2F2013%2F11%2F25%2Fsending-email-from-cloud-foundry-java-applications-with-sendgrid%2F" title="Email"><img align="absmiddle" src="http://blog.cloudfoundry.com/wp-content/plugins/trackable-social-share-icons/buttons/a4//email.png" alt="Email" width="36" height="36" /></a> </div><img src="http://feeds.feedburner.com/~r/CloudFoundry-Blog/~4/s9fggTJT9Gw" height="1" width="1" /></div>







<p class="date">
<a href="http://feedproxy.google.com/~r/CloudFoundry-Blog/~3/s9fggTJT9Gw/">by Nima Badiey at November 25, 2013 11:00 PM</a>
</p>
</div>
</div>


</div>

</div>


<div class="sidebar">
<img src="images/logo.png" width="136" height="136" alt="">

<h2>Subscriptions</h2>
<ul>
<li>
<a href="http://feeds.feedburner.com/CloudFoundry-Blog" title="subscribe"><img src="images/feed-icon-10x10.png" alt="(feed)"></a> <a href="http://blog.cloudfoundry.com" title="Cloud Foundry Blog">Cloud Foundry Blog</a>
</li>
</ul>

<p>
<strong>Last updated:</strong><br>
January 09, 2014 09:16 PM<br>
<em>All times are UTC.</em><br>
<br>
Powered by:<br>
<a href="http://www.planetplanet.org/"><img src="images/planet.png" width="80" height="15" alt="Planet" border="0"></a>
</p>

<p>
<h2>Planetarium:</h2>
<ul>
<li><a href="http://www.planetapache.org/">Planet Apache</a></li>
<li><a href="http://planet.debian.net/">Planet Debian</a></li>
<li><a href="http://planet.freedesktop.org/">Planet freedesktop.org</a></li>
<li><a href="http://planet.gnome.org/">Planet GNOME</a></li>
<li><a href="http://planetsun.org/">Planet Sun</a></li>
<li><a href="http://fedora.linux.duke.edu/fedorapeople/">Fedora People</a></li>
<li><a href="http://www.planetplanet.org/">more...</a></li>
</ul>
</p>
</div>
</body>

</html>
